<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Chess.com style – zadanie</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  background:#262421;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial, sans-serif;
}

.container{
  background:#312e2b;
  padding:20px;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.6);
}

h1{
  color:white;
  text-align:center;
  margin-bottom:15px;
}

.board{
  display:grid;
  grid-template-columns:repeat(8,70px);
  grid-template-rows:repeat(8,70px);
  border-radius:12px;
  overflow:hidden;
}

.square{
  display:flex;
  align-items:center;
  justify-content:center;
}

.light{ background:#f0d9b5; }
.dark{ background:#b58863; }

.piece{
  width:62px;
  height:62px;
  cursor:grab;
}

.square.highlight{
  box-shadow: inset 0 0 0 4px rgba(255,215,0,.8);
}

button{
  margin-top:15px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#81b64c;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

button:hover{ background:#9bd15a; }

#solution{
  display:none;
  margin-top:10px;
  text-align:center;
  color:#9bd15a;
  font-weight:bold;
}
</style>
</head>

<body>
<div class="container">
  <h1>♟ Mat w 1</h1>
  <div id="board" class="board"></div>
  <button onclick="toggleSolution()">Pokaż rozwiązanie</button>
  <div id="solution">Qg7#</div>
</div>

<script>
/* --- SVG FIGURY (INLINE – ZAWSZE DZIAŁAJĄ) --- */
const pieces = {
  K:`♔`, Q:`♕`, R:`♖`, B:`♗`, N:`♘`, P:`♙`,
  k:`♚`, q:`♛`, r:`♜`, b:`♝`, n:`♞`, p:`♟`
};

const fen = "6k1/8/8/6Q1/8/8/8/6K1";

const board = document.getElementById("board");
let dragged = null;

function drawBoard(fen){
  board.innerHTML="";
  const rows = fen.split("/");
  for(let r=0;r<8;r++){
    let col=0;
    for(const c of rows[r]){
      if(isNaN(c)){
        const sq = createSquare(r,col);
        const piece = document.createElement("div");
        piece.className="piece";
        piece.textContent = pieces[c];
        piece.draggable=true;
        piece.style.fontSize="56px";
        piece.addEventListener("dragstart",()=>dragged=piece);
        sq.appendChild(piece);
        board.appendChild(sq);
        col++;
      }else{
        for(let i=0;i<c;i++){
          board.appendChild(createSquare(r,col));
          col++;
        }
      }
    }
  }
}

function createSquare(r,c){
  const sq=document.createElement("div");
  sq.className="square "+((r+c)%2?"dark":"light");
  sq.addEventListener("dragover",e=>{e.preventDefault();sq.classList.add("highlight");});
  sq.addEventListener("dragleave",()=>sq.classList.remove("highlight"));
  sq.addEventListener("drop",()=>{
    if(dragged){
      sq.innerHTML="";
      sq.appendChild(dragged);
      sq.classList.remove("highlight");
      dragged=null;
    }
  });
  return sq;
}

function toggleSolution(){
  const s=document.getElementById("solution");
  s.style.display = s.style.display==="block"?"none":"block";
}

drawBoard(fen);
</script>
</body>
</html>
